<!DOCTYPE html>
<html>
<head>
	<!-- Required meta tags -->
	<meta charset="utf-8">
	<meta name="viewport" content="width=device-width, initial-scale=1">
	<title>Online Store</title>
	<!-- Bootstrap CSS -->
	<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
		  integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
</head>
<body>
	<div class="container">
		<h1 class="mt-5 mb-5 text-center">My Tool Store</h1>

		<table id="products" class="table table-bordered">
			<thead class="table-dark border border-light">
			<tr>
				<th>Title</th>
				<th>Quantity</th>
				<th>Price</th>
				<th>Categories</th>
			</tr>
			</thead>
			<tbody id="insertProducts"></tbody>

		</table>

		<button type="button" class="mt-3" id="refresh-btn">Refresh</button>
	</div>

	<!---- Input fields to add to the JSON file --->


	<form class="mt-4" id="submit-form">
		<div class="container">
			<div class="form-group row gap-grid gap-3">
				<label for="input-title">Tool Item: </label>
				<input type="text" class="width-30" id="input-title">
				<label for="input-quantity">Quantity: </label>
				<input type="number" id="input-quantity" min="1">
				<label for="input-price">Price: </label>
				<input type="number" id="input-price" min="1">
				<label>Categories:</label>
				<div>
					<label class="px-3 form-check-label" for="input-tool">tool</label>
					<input class="form-check-input" type="checkbox" id="input-tool">
					<label class="px-3 form-check-label" for="input-powered">powered</label>
					<input class="form-check-input" type="checkbox" id="input-powered">
					<label class="px-3 form-check-label" for="input-gas">gas</label>
					<input class="form-check-input" type="checkbox" id="input-gas">
					<label class="px-3 form-check-label" for="input-outdoor">outdoor</label>
					<input class="form-check-input" type="checkbox" id="input-outdoor">
				</div>
			</div>
		</div>
		<div class="container">
			<div class="row">
				<div class="col-auto">
					<button type="button" id="submit" class="mt-3">Submit</button>
				</div>
				<div class="col-auto">
					<button type="reset" id="clear" class="mt-3 px-3 gap gx-3">Clear</button>
				</div>
			</div>
		</div>
	</form>





<script src="https://code.jquery.com/jquery-2.2.4.min.js"
		integrity="sha256-BbhdlvQf/xTY9gja0Dq3HiwQF8LaCRTXxZKRutelT44=" crossorigin="anonymous"></script>
<!-- Option 1: Bootstrap Bundle with Popper -->
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
		integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM"
		crossorigin="anonymous"></script>

<script>
    (function () {
        "use strict";
        // TODO: Create an AJAX GET request for the file under data/inventory.json

        // TODO: Take the data from inventory.json and append it to the products table
        //       HINT: Your data should come back as a JSON object; use console.log() to inspect
        //             its contents and fields
        //       HINT: You will want to target #insertProducts for your new HTML elements
        //
        // $.ajax('./data/inventory.json').done(function (data) {
        //
        //     $.each(data, function (index, value) {
        //
        //         $('#insertProducts').append(
        //             "<tr class=\"table-warning\">" +
        //             "<td>" + value.title + "</td>" +
        //             "<td>" + value.quantity + "</td>" +
        //             "<td>" +"$ " + value.price + "</td>" +
        //             "<td>" + value.categories + "</td>" +
        //             "</tr>"
        //         )
        //     });
        // });

        //code the refresh-btn to display the tool inventory when clicked
        $('#refresh-btn').on('click', function () {
            $.get('./data/inventory.json').done(function (data) {

                // const sendJSON = JSON.stringify(data);
                console.log(data);
                //
                // const receiveJSON = JSON.parse(sendJSON);
                //
                // console.log(receiveJSON[0].title);

                // let count = 0;
                //
                // $('td').html('');

                $("#insertProducts").empty();

                $.each(data, function (index, element) {
                    //     // console.log(element);
                    //     // console.log($(index));
                    let toolInfo = "";
                    toolInfo += "<tr class=\"table-warning\">";
                    toolInfo += "<td>" + element.title + "</td>";
                    toolInfo += "<td>" + element.quantity + "</td>";
                    toolInfo += "<td>" + "$ " + element.price + "</td>";
                    toolInfo += "<td>" + element.categories + "</td>";
                    toolInfo += "</tr>";

                    $('#insertProducts').append(toolInfo);
                });
            });
        });

        $('#submit').on('click',function (){

            let toolName = $('#input-tool').val();
            let quantity = "";
            let price = "";
            let categories = []

            console.log($(toolName));
        });
    })();
</script>

</body>
</html>
